<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<link rel="shortcut icon" href="img/favicon.ico">
		<title>The WagBag - Clean Leash Company</title>
		<link rel="stylesheet" href="css/bootstrap.min.css">
		<link rel="stylesheet" href="css/line-awesome.min.css">
		<link rel="stylesheet" href="css/magnific-popup.css">
		<link rel="stylesheet" href="css/swiper.min.css">
		<link rel="stylesheet" href="css/style.css">
		<style>
			.product-page {
				padding: 120px 0 60px 0;
				background-color: #ffffcc;
				min-height: 100vh;
			}
			.product-images {
				background: white;
				border-radius: 8px;
				padding: 20px;
				box-shadow: 0 2px 10px rgba(0,0,0,0.1);
			}
			.main-image {
				width: 100%;
				height: 400px;
				object-fit: contain;
				border-radius: 8px;
				margin-bottom: 20px;
			}
			.thumbnail-container {
				position: relative;
				width: 100%;
				overflow: hidden;
			}
			.thumbnail-images {
				display: flex;
				gap: 10px;
				transition: transform 0.3s ease;
				width: max-content;
			}
			.thumbnail {
				width: 80px;
				height: 80px;
				object-fit: cover;
				border-radius: 4px;
				cursor: pointer;
				border: 2px solid transparent;
				transition: border-color 0.3s;
				flex-shrink: 0;
			}
			.scroll-btn {
				position: absolute;
				top: 50%;
				transform: translateY(-50%);
				background: rgba(0, 0, 0, 0.7);
				color: white;
				border: none;
				border-radius: 50%;
				width: 30px;
				height: 30px;
				cursor: pointer;
				z-index: 10;
				display: flex;
				align-items: center;
				justify-content: center;
				font-size: 14px;
				transition: background-color 0.3s;
			}
			.scroll-btn:hover {
				background: rgba(0, 0, 0, 0.9);
			}
			.scroll-btn.prev {
				left: 5px;
			}
			.scroll-btn.next {
				right: 5px;
			}
			.scroll-btn.hidden {
				display: none;
			}
			.thumbnail:hover, .thumbnail.active {
				border-color: #007bff;
			}
			.product-details {
				background: white;
				border-radius: 8px;
				padding: 30px;
				box-shadow: 0 2px 10px rgba(0,0,0,0.1);
				height: fit-content;
			}
			.product-title {
				font-size: 2.5rem;
				font-weight: bold;
				margin-bottom: 10px;
				color: #333;
			}
			.preorder-badge {
				background: #ffffcc;
				color: #000;
				padding: 5px 15px;
				border-radius: 4px;
				font-weight: bold;
				font-size: 0.9rem;
				display: inline-block;
				margin-bottom: 15px;
				transform: rotate(-2deg);
			}
			.price {
				font-size: 2rem;
				font-weight: bold;
				color: #333;
				margin-bottom: 20px;
			}
			.original-price {
				text-decoration: line-through;
				color: #999;
				font-size: 1.2rem;
				margin-right: 10px;
			}
			.financing-options {
				background: #f8f9fa;
				padding: 15px;
				border-radius: 6px;
				margin-bottom: 20px;
			}
			.financing-option {
				margin-bottom: 10px;
				font-size: 0.9rem;
			}
			.product-info {
				margin-bottom: 25px;
			}
			.info-row {
				display: flex;
				justify-content: space-between;
				margin-bottom: 10px;
				padding: 8px 0;
				border-bottom: 1px solid #eee;
			}
			.info-label {
				font-weight: 600;
				color: #000;
			}
			.info-value {
				color: #000;
			}
			.color-selector {
				border: 1px solid #ddd;
				border-radius: 4px;
				padding: 4px 8px;
				background: white;
				color: #000;
				font-size: 0.9rem;
				cursor: pointer;
				min-width: 120px;
			}
			.color-selector:focus {
				outline: none;
				border-color: #007bff;
				box-shadow: 0 0 0 2px rgba(0, 123, 255, 0.25);
			}
			
			/* Footer contact info styling */
			footer .content .text span {
				color: #abedf4 !important;
			}
			.size-selector {
				display: flex;
				gap: 10px;
				margin-bottom: 20px;
			}
			.size-option {
				padding: 8px 16px;
				border: 2px solid #ddd;
				border-radius: 4px;
				cursor: pointer;
				transition: all 0.3s;
			}
			.size-option:hover, .size-option.selected {
				border-color: #007bff;
				background-color: #007bff;
				color: white;
			}
			.payment-options {
				border: 2px solid #dc3545;
				border-radius: 6px;
				padding: 20px;
				margin-bottom: 20px;
				background: #fff;
			}
			.payment-option {
				margin-bottom: 10px;
			}
			.payment-option input[type="radio"] {
				margin-right: 10px;
			}
			.checkout-btn {
				width: 100%;
				background: #000;
				color: #ffc107;
				border: none;
				padding: 15px;
				font-size: 1.2rem;
				font-weight: bold;
				border-radius: 6px;
				cursor: pointer;
				transition: background-color 0.3s;
			}
			.checkout-btn:hover {
				background: #333;
			}
			.special-order-notice {
				background: #dc3545;
				color: white;
				padding: 10px;
				border-radius: 4px;
				margin-top: 15px;
				font-size: 0.9rem;
			}
			.special-order-notice i {
				margin-right: 8px;
			}
			.product-description {
				margin-top: 30px;
			}
			.description-tabs {
				display: flex;
				border-bottom: 2px solid #eee;
				margin-bottom: 20px;
			}
			.tab {
				padding: 10px 20px;
				cursor: pointer;
				border-bottom: 2px solid transparent;
				transition: border-color 0.3s;
			}
			.tab.active {
				border-bottom-color: #007bff;
				color: #007bff;
			}
			.tab-content {
				display: none;
			}
			.tab-content.active {
				display: block;
			}
			.specs-list {
				list-style: none;
				padding: 0;
			}
			.specs-list li {
				padding: 8px 0;
				border-bottom: 1px solid #eee;
				color: #000;
			}
			.specs-list li:last-child {
				border-bottom: none;
			}
			.quantity-selector {
				display: flex;
				align-items: center;
				gap: 10px;
				margin-bottom: 20px;
			}
			.quantity-btn {
				width: 40px;
				height: 40px;
				border: 1px solid #ddd;
				background: white;
				border-radius: 4px;
				cursor: pointer;
				font-size: 1.2rem;
			}
			.quantity-input {
				width: 60px;
				height: 40px;
				text-align: center;
				border: 1px solid #ddd;
				border-radius: 4px;
			}
			
			/* Mobile hamburger icon styling */
			.navbar-toggler {
				border: none;
				padding: 0;
			}
			
			.navbar-toggler:focus {
				box-shadow: none;
			}
			
			.navbar-toggler .la {
				color: #000 !important;
				font-size: 1.5rem;
			}
			
			/* Mobile-specific fixes for Shopify Buy Button */
			@media (max-width: 767px) {
				/* Target Shopify Buy Button on mobile */
				#product-component-1759175795788 button,
				#product-component-1759175795788 .shopify-buy__btn,
				.shopify-buy__btn,
				#product-component-1759175795788 button span,
				#product-component-1759175795788 .shopify-buy__btn span {
					padding-left: 15px !important;
					padding-right: 15px !important;
					white-space: nowrap !important;
					font-size: 1rem !important;
					min-width: auto !important;
					width: 100% !important;
					text-overflow: clip !important;
					overflow: visible !important;
					text-align: center !important;
				}
				
				/* Ensure button text container shows full text */
				#product-component-1759175795788 button *,
				#product-component-1759175795788 .shopify-buy__btn * {
					white-space: nowrap !important;
					text-overflow: clip !important;
					overflow: visible !important;
				}
				
				/* Prevent ellipsis on button text */
				#product-component-1759175795788 button::after,
				#product-component-1759175795788 .shopify-buy__btn::after {
					display: none !important;
				}
				
				/* Target any text elements inside the button */
				#product-component-1759175795788 .shopify-buy__btn__content,
				#product-component-1759175795788 button .shopify-buy__btn__content {
					overflow: visible !important;
					text-overflow: clip !important;
					white-space: nowrap !important;
					max-width: none !important;
				}
			}
			
			@media (max-width: 575px) {
				#product-component-1759175795788 button,
				#product-component-1759175795788 .shopify-buy__btn,
				.shopify-buy__btn,
				#product-component-1759175795788 button span,
				#product-component-1759175795788 .shopify-buy__btn span {
					padding-left: 12px !important;
					padding-right: 12px !important;
					font-size: 0.95rem !important;
					text-overflow: clip !important;
					overflow: visible !important;
				}
			}
		</style>
		
		<!-- Shopify Buy Button Script -->
		<script type="text/javascript">
		/*<![CDATA[*/
		(function () {
		  var scriptURL = 'https://sdks.shopifycdn.com/buy-button/latest/buy-button-storefront.min.js';
		  if (window.ShopifyBuy) {
			if (window.ShopifyBuy.UI) {
			  ShopifyBuyInit();
			} else {
			  loadScript();
			}
		  } else {
			loadScript();
		  }
		  function loadScript() {
			var script = document.createElement('script');
			script.async = true;
			script.src = scriptURL;
			(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(script);
			script.onload = ShopifyBuyInit;
		  }
		  function ShopifyBuyInit() {
			var client = ShopifyBuy.buildClient({
			  domain: '2fwf0e-wp.myshopify.com',
			  storefrontAccessToken: '2ca1bcc28daddce5c28c6e860d12bf01',
			});
			ShopifyBuy.UI.onReady(client).then(function (ui) {
				const productComponent = ui.createComponent('product', {
					id: '10385160372529',
					node: document.getElementById('product-component-1759175795788'),
					moneyFormat: '%24%7B%7Bamount%7D%7D',
					options: {
						"product": {
							"styles": {
								"product": {
									"@media (min-width: 601px)": {
										"max-width": "calc(25% - 20px)",
										"margin-left": "20px",
										"margin-bottom": "50px"
									}
								},
								"button": {
									"color": "#fffb83",
									":hover": {
										"color": "#fffb83",
										"background-color": "#000000"
									},
									"background-color": "#000000",
									":focus": {
										"background-color": "#000000"
									},
									"border-radius": "39px",
									"padding-left": "100px",
									"padding-right": "100px",
									"@media (max-width: 767px)": {
										"padding-left": "15px",
										"padding-right": "15px",
										"width": "100%",
										"white-space": "nowrap",
										"text-overflow": "clip",
										"overflow": "visible",
										"min-width": "auto"
									}
								}
							},
							"contents": {
								"img": false,
								"title": false,
								"price": false
							},
							"text": {
								"button": "Add to Cart"
							}
						}
					}
				});

				// Listen for variant change events
				productComponent.on('variant:change', function(event) {
					const selectedVariant = event.variant;
					if (selectedVariant) {
						const selectedColor = selectedVariant.optionValues.find(option => option.name === 'Color').value;
						updateSelectedColorText(selectedColor);

						// Update product images based on selected variant
						const imageUrls = selectedVariant.images.map(image => image.src);
						updateProductImages(imageUrls);
					}
				});
			});
		  }
		})();
		/*]]>*/
		</script>
	</head>
	<body>
		
		<!-- loader -->
		<div class="loader">
            <div class="loading">
              <div class="spinner-grow aloader" role="status">
                    <span class="sr-only"></span>
              </div>
          </div>
      </div>
      <!-- end loader -->

      <!-- navbar -->
      <div id="navbar" class="navbar navbar-expand-lg">
          <div class="container">
              <a href="index.html" class="navbar-brand"><img src="img/logo.png" alt=""></a>
              <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                  <i class="la la-bars"></i>
              </button>

              <div class="collapse navbar-collapse" id="navbarSupportedContent">
                  <ul class="navbar-nav ms-auto">
                      <li class="nav-item"><a class="nav-link" href="index.html">Home</a></li>
                      <li class="nav-item"><a class="nav-link" href="shop.html">Shop</a></li>
                      <li class="nav-item"><a class="nav-link" href="how-it-works.html">How it Works</a></li>
                      <li class="nav-item"><a class="nav-link" href="contact.html">Contact</a></li>
                  </ul>
              </div>
          </div>
      </div>
      <!-- end navbar -->

      <!-- Product Page -->
      <div class="product-page">
          <div class="container">
              <div class="row">
                  <!-- Product Images -->
                  <div class="col-md-6">
                      <div class="product-images">
                                                     <img src="img/all1.jpg" alt="WagBag Bottle" class="main-image" id="mainImage">
                           <div class="thumbnail-container">
                               <button class="scroll-btn prev" onclick="scrollThumbnails('prev')" id="prevBtn">‹</button>
                               <div class="thumbnail-images" id="thumbnailContainer">
                                   <img src="img/blue1.jpg" alt="WagBag Product View 1" class="thumbnail" onclick="changeImage('img/blue1.jpg')">
                                   <img src="img/blue2.jpg" alt="WagBag Product View 2" class="thumbnail" onclick="changeImage('img/blue2.jpg')">
                                   <img src="img/blue3.jpg" alt="WagBag Product View 3" class="thumbnail" onclick="changeImage('img/blue3.jpg')">
                                   <img src="img/sandbox1.jpg" alt="WagBag Product View 4" class="thumbnail" onclick="changeImage('img/sandbox1.jpg')">
                                   <img src="img/sandbox2.jpg" alt="WagBag Product View 5" class="thumbnail" onclick="changeImage('img/sandbox2.jpg')">
								   <img src="img/papaya1.jpg" alt="WagBag Product View 6" class="thumbnail" onclick="changeImage('img/papaya1.jpg')">
                                   <img src="img/papaya2.jpg" alt="WagBag Product View 7" class="thumbnail" onclick="changeImage('img/papaya2.jpg')">
                                   <img src="img/papaya3.jpg" alt="WagBag Product View 8" class="thumbnail" onclick="changeImage('img/papaya3.jpg')">
                                   <img src="img/onyx1.jpg" alt="WagBag Product View 9" class="thumbnail" onclick="changeImage('img/onyx1.jpg')">
                                   <img src="img/onyx2.jpg" alt="WagBag Product View 10" class="thumbnail" onclick="changeImage('img/onyx2.jpg')">
								   <img src="img/onyx3.jpg" alt="WagBag Product View 11" class="thumbnail" onclick="changeImage('img/onyx3.jpg')">
                               </div>
                               <button class="scroll-btn next" onclick="scrollThumbnails('next')" id="nextBtn">›</button>
                           </div>
                      </div>
                      
                      <!-- Product Description Tabs -->
                      <div class="product-description" style="margin-top: 30px;">
                          <div class="description-tabs">
                              <div class="tab active" onclick="showTab('description')">Description</div>
                              <div class="tab" onclick="showTab('specifications')">Specifications</div>
                          </div>
                          
                          <div id="description" class="tab-content active">
                              <p>The WagBag is the ultimate solution for clean and convenient dog walks. This innovative product combines a biodegradable waste bag dispenser with a built-in hand sanitizer, making it the perfect companion for responsible pet owners.</p>
                              <p>No more fumbling with multiple items or worrying about hygiene during your walks. The WagBag keeps everything you need in one convenient, stylish package that attaches easily to any leash or belt.</p>
                              <p>Made with premium materials and designed for durability, the WagBag ensures you're always prepared for a clean, enjoyable walk with your furry friend.</p>
                          </div>

                          <div id="specifications" class="tab-content">
                              <ul class="specs-list">
                                  <li><strong>Material:</strong> Polycarbonate</li>
                                  <li><strong>Dog Bags:</strong> Fits a standard dog bag roll</li>
                                  <li><strong>Sanitizer Size:</strong> 50ml</li>
                                  <li><strong>Dimensions:</strong> <TBD></li>
                                  <li><strong>Weight:</strong> <TBD></li>
                              </ul>
                          </div>
                      </div>
                  </div>

                  <!-- Product Details -->
                  <div class="col-md-6">
                      <div class="product-details">
                          <h1 class="product-title">The WagBag</h1>
                                                     <div class="price">
                               <span>$15.00</span>
                           </div>

                                                     <!-- Tagline -->
                           <div class="financing-options">
                               <div class="financing-option" style="color: #000; font-size: 1.1rem; font-weight: 500; text-align: center; margin-bottom: 0;">
                                   The Wagbag, your first step to cleaner, happier walks
                               </div>
                           </div>

                                                     <!-- Product Information -->
                           <div class="product-info">
                               <div class="info-row">
                                   <span class="info-label">Product Code:</span>
                                   <span class="info-value">WAGBAG-001</span>
                               </div>
                               <div class="info-row">
                                   <span class="info-label">Availability:</span>
                                   <span class="info-value">Single Unit</span>
                               </div>
                               <div class="info-row">
                                   <span class="info-label">Size:</span>
                                   <span class="info-value">Standard</span>
                               </div>
                               <!-- Add color selection dropdown -->
                               <div class="info-row">
                                   <span class="info-label">View Color:</span>
                                   <select id="colorSelect" onchange="updateColor(this.value)">
                                       <option value="Denim">Denim</option>
                                       <option value="Onyx">Onyx</option>
                                       <option value="Papaya">Papaya</option>
                                       <option value="Sand Bucket">Sandbox</option>
                                   </select>
                               </div>
                           </div>

                          <!-- Payment Options -->
                          <div class="payment-options">
                              <h6 style="margin-bottom: 15px; color: #dc3545;">Payment Options:</h6>
                              <div class="payment-option">
                                  <input type="radio" id="full-payment" name="payment" value="full" checked>
                                  <label style="color: black;"for="full-payment">Full Payment - $15.00</label>
                              </div>
							  <label style="color: black;">Choose WagBag Color :</label>
                                                        <!-- Shopify Buy Button -->
                          <div id='product-component-1759175795788'></div>
                          
                  </div>
              </div>
            </div>
      </div>
          </div>
                </div>


    		<!-- footer -->
		<footer id="contact">
			<div class="container">
				<div class="row">
					<div class="col-md-6">
						<img src="img/logo.png" alt="">
						<ul class="social">
							<li><a href=""><i class="la la-facebook"></i></a></li>
							<li><a href=""><i class="la la-twitter"></i></a></li>
							<li><a href="https://www.instagram.com/cleanleash_/?hl=am-et"><i class="la la-instagram"></i></a></li>
							<li><a href=""><i class="la la-youtube"></i></a></li>
						</ul>
					</div>
					<div class="col-md">
						<h6>Useful Link</h6>
						<ul class="link-footer">
							<li><a href="#home">Home</a></li>
							<li><a href="shop.html">The WagBag</a></li>
							<li><a href="contact.html">Contact us</a></li>
						</ul>
					</div>
					<div class="col-md">
						<h6>Get in touch</h6>
						<div class="content">
							<div class="icon"><i class="la la-phone"></i></div>
							<div class="text">
								<span>Phone</span>
								<p>+1 800 326 0519 </p>
							</div>
						</div>
						<div class="content">
							<div class="icon"><i class="la la-envelope"></i></div>
							<div class="text">
								<span>Email</span>
								<p>erica@cleanleashcompany.com </p>
							</div>
						</div>
						<div class="content">
							<div class="icon"><i class="la la-map"></i></div>
							<div class="text">
								<span>Instagram</span>
								<p> @cleanleash_ </p>
							</div>
						</div>
					</div>
				</div>
				<div class="row">
					<div class="col">
						<div class="cp">
							<span>Copyright © All Right Reserved</span>
						</div>
					</div>
				</div>
			</div>
		</footer>
		<!-- end footer -->

		<!-- script -->
		<script src="js/jquery.min.js"></script>
		<script src="js/bootstrap.bundle.min.js"></script>
		<script src="js/magnific-popup.min.js"></script>
		<script src="js/swiper.min.js"></script>
		<script src="js/main.js"></script>
		
		<script>
			// Image gallery functionality
			let currentScrollPosition = 0;
			const thumbnailsPerView = 4; // Number of thumbnails visible at once
			
			function changeImage(src) {
				document.getElementById('mainImage').src = src;
				// Update active thumbnail
				document.querySelectorAll('.thumbnail').forEach(thumb => {
					thumb.classList.remove('active');
				});
				event.target.classList.add('active');
			}
			
			function scrollThumbnails(direction) {
				const container = document.getElementById('thumbnailContainer');
				const thumbnails = container.querySelectorAll('.thumbnail');
				const totalThumbnails = thumbnails.length;
				const maxScroll = Math.max(0, totalThumbnails - thumbnailsPerView);
				
				if (direction === 'next' && currentScrollPosition < maxScroll) {
					currentScrollPosition++;
				} else if (direction === 'prev' && currentScrollPosition > 0) {
					currentScrollPosition--;
				}
				
				// Calculate scroll position
				const scrollAmount = currentScrollPosition * (90 + 10); // thumbnail width + gap
				container.style.transform = `translateX(-${scrollAmount}px)`;
				
				// Update button visibility
				updateScrollButtons();
			}
			
			function updateScrollButtons() {
				const prevBtn = document.getElementById('prevBtn');
				const nextBtn = document.getElementById('nextBtn');
				const thumbnails = document.querySelectorAll('.thumbnail');
				const totalThumbnails = thumbnails.length;
				const maxScroll = Math.max(0, totalThumbnails - thumbnailsPerView);
				
				prevBtn.classList.toggle('hidden', currentScrollPosition === 0);
				nextBtn.classList.toggle('hidden', currentScrollPosition >= maxScroll);
			}
			
			// Initialize scroll buttons on page load
			document.addEventListener('DOMContentLoaded', function() {
				updateScrollButtons();
				// Initialize with default color images
				updateColor();
			});
			
			// Color selection functionality
			function updateColor(selectedColor) {
				console.log('Selected color:', selectedColor);
				
				// Define image sets for each color
				const imageSets = {
					'Denim': ['img/all2.jpg', 'img/blue2.jpg', 'img/blue3.jpg', 'img/all1.jpg'],
					'Onyx': ['img/all2.jpg', 'img/onyx1.jpg', 'img/onyx2.jpg', 'img/onyx3.jpg', 'img/all1.jpg'],
					'Papaya': ['img/all2.jpg', 'img/papaya1.jpg', 'img/papaya2.jpg', 'img/papaya3.jpg', 'img/all1.jpg'],
					'Sand Bucket': ['img/all2.jpg', 'img/sandbox1.jpg', 'img/sandbox2.jpg', 'img/sandbox3.jpg', 'img/all1.jpg']
				};
				
				// Get the image set for the selected color
				const selectedImages = imageSets[selectedColor];
				if (!selectedImages) return;
				
				// Update main image
				const mainImage = document.getElementById('mainImage');
				mainImage.src = selectedImages[0];
				
				// Update thumbnails
				const thumbnailContainer = document.getElementById('thumbnailContainer');
				thumbnailContainer.innerHTML = '';
				
				selectedImages.forEach((imageSrc, index) => {
					const thumbnail = document.createElement('img');
					thumbnail.src = imageSrc;
					thumbnail.alt = `WagBag ${selectedColor} View ${index + 1}`;
					thumbnail.className = index === 0 ? 'thumbnail active' : 'thumbnail';
					thumbnail.onclick = function() {
						changeImage(imageSrc);
						// Update active thumbnail
						document.querySelectorAll('.thumbnail').forEach(thumb => thumb.classList.remove('active'));
						this.classList.add('active');
					};
					thumbnailContainer.appendChild(thumbnail);
				});
				
				// Reset scroll position
				currentScrollPosition = 0;
				updateScrollButtons();

				// Update Shopify Buy Button component
				const shopifyComponent = document.getElementById('product-component-1759175795788');
				if (shopifyComponent) {
					// Assuming the Shopify component can be updated with a new color or option
					// This part may need to be adjusted based on how Shopify handles options
					ShopifyBuy.UI.onReady(client).then(function (ui) {
						ui.createComponent('product', {
							id: '10385160372529',
							node: shopifyComponent,
							moneyFormat: '%24%7B%7Bamount%7D%7D',
							options: {
								"product": {
									"styles": {
										"product": {
											"@media (min-width: 601px)": {
												"max-width": "calc(25% - 20px)",
												"margin-left": "20px",
												"margin-bottom": "50px"
											}
										},
										"button": {
											"color": "#fffb83",
											":hover": {
												"color": "#fffb83",
												"background-color": "#000000"
											},
											"background-color": "#000000",
											":focus": {
												"background-color": "#000000"
											},
											"border-radius": "39px",
											"padding-left": "100px",
											"padding-right": "100px",
											"@media (max-width: 767px)": {
												"padding-left": "15px",
												"padding-right": "15px",
												"width": "100%",
												"white-space": "nowrap",
												"text-overflow": "clip",
												"overflow": "visible",
												"min-width": "auto"
											}
										}
									},
									"contents": {
										"img": false,
										"title": false,
										"price": false
									},
									"text": {
										"button": "Pre-Order Now!"
									},
									"variantId": getVariantIdForColor(selectedColor) // Function to map color to variant ID
								}
							}
						});
					});
				}
			}

			// Function to map color to Shopify variant ID
			function getVariantIdForColor(color) {
				const variantMap = {
					'Onyx': 'VARIANT_ID_FOR_ONYX',
					'Denim': 'VARIANT_ID_FOR_DENIM',
					'Papaya': 'VARIANT_ID_FOR_PAPAYA',
					'Sand Bucket': 'VARIANT_ID_FOR_SAND_BUCKET'
				};
				return variantMap[color];
			}

			// Quantity selector functionality
			function changeQuantity(delta) {
				const input = document.getElementById('quantity');
				const newValue = Math.max(1, Math.min(10, parseInt(input.value) + delta));
				input.value = newValue;
				// Update modal quantity
				document.getElementById('modalQuantity').value = newValue;
			}

			// Tab functionality
			function showTab(tabName) {
				// Hide all tab contents
				document.querySelectorAll('.tab-content').forEach(content => {
					content.classList.remove('active');
				});
				// Remove active class from all tabs
				document.querySelectorAll('.tab').forEach(tab => {
					tab.classList.remove('active');
				});
				
				// Show selected tab content
				document.getElementById(tabName).classList.add('active');
				// Add active class to clicked tab
				event.target.classList.add('active');
			}

			// Preorder modal functionality
			function openPreorderModal() {
				const modal = new bootstrap.Modal(document.getElementById('preorderModal'));
				modal.show();
			}

			// Update modal quantity when main quantity changes
			document.getElementById('quantity').addEventListener('change', function() {
				document.getElementById('modalQuantity').value = this.value;
			});

			// Form submission handling
			document.getElementById('preorderForm').addEventListener('submit', function(e) {
				e.preventDefault();
				
				// Add form data
				const formData = new FormData(this);
				formData.append('product', 'The WagBag');
				formData.append('payment_type', document.querySelector('input[name="payment"]:checked').value);
				formData.append('selected_color', document.getElementById('colorSelect').value);
				
				// Submit form
				fetch(this.action, {
					method: 'POST',
					body: formData,
					headers: {
						'Accept': 'application/json'
					}
				})
				.then(response => response.json())
				.then(data => {
					if (data.ok) {
						alert('Thank you for your pre-order! We\'ll be in touch soon.');
						bootstrap.Modal.getInstance(document.getElementById('preorderModal')).hide();
						this.reset();
					} else {
						alert('There was an error submitting your pre-order. Please try again.');
					}
				})
				.catch(error => {
					console.error('Error:', error);
					alert('There was an error submitting your pre-order. Please try again.');
				});
			});

			// Update the selected color text based on Shopify selection
			function updateSelectedColorText(color) {
				const selectedColorText = document.getElementById('selectedColorText');
				selectedColorText.textContent = color;
			}

			// Function to update product images
			function updateProductImages(imageUrls) {
				const mainImage = document.getElementById('mainImage');
				const thumbnailContainer = document.getElementById('thumbnailContainer');
				
				if (imageUrls.length > 0) {
					changeImage(imageUrls[0]); // Use changeImage function
				}
				
				thumbnailContainer.innerHTML = '';
				imageUrls.forEach((url, index) => {
					const thumbnail = document.createElement('img');
					thumbnail.src = url;
					thumbnail.alt = `Product Image ${index + 1}`;
					thumbnail.className = index === 0 ? 'thumbnail active' : 'thumbnail';
					thumbnail.onclick = function() {
						changeImage(url); // Use changeImage function
						document.querySelectorAll('.thumbnail').forEach(thumb => thumb.classList.remove('active'));
						this.classList.add('active');
					};
					thumbnailContainer.appendChild(thumbnail);
				});
			}

			// Example usage: Call this function when the Shopify Buy Button selection changes
			// updateSelectedColorText('Denim');
		</script>
		
	</body>
</html>